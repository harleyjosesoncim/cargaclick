diff --git a/app/controllers/pagamentos_controller.rb b/app/controllers/pagamentos_controller.rb
index 1234567..89abcde 100644
--- a/app/controllers/pagamentos_controller.rb
+++ b/app/controllers/pagamentos_controller.rb
@@ -1,10 +1,12 @@
-## frozen_string_literal: true
-
-class PagamentosController < ApplicationController
-  skip_before_action :verify_authenticity_token, only: %i[webhook ping]
-
-  before_action :set_pagamento, only: [:show, :cancelar]
-
+## frozen_string_literal: true
+
+class PagamentosController < ApplicationController
+  skip_before_action :verify_authenticity_token, only: %i[webhook ping]
+
+  before_action :set_pagamento, only: [:show, :cancelar]
+
   # ===============================================================
   # LISTAGEM / VISUALIZAÇÃO
   # ===============================================================
@@ -87,8 +89,29 @@ class PagamentosController < ApplicationController
   private
 
   def set_pagamento
-    @pagamento = Pagamento.find(params[:id])
-  end
-
-  def identificar_cliente(frete)
-    return frete.cliente if frete.cliente.present?
-    return frete.cliente_cnp_
+    @pagamento = Pagamento.find(params[:id])
+  end
+
+  def identificar_cliente(frete)
+    return frete.cliente if frete.respond_to?(:cliente) && frete.cliente.present?
+    return frete.cliente_cpf if frete.respond_to?(:cliente_cpf) && frete.cliente_cpf.present?
+    return frete.cliente_cnpj if frete.respond_to?(:cliente_cnpj) && frete.cliente_cnpj.present?
+    nil
+  end
+
+  def identificar_transportador(frete)
+    return frete.transportador if frete.respond_to?(:transportador) && frete.transportador.present?
+    nil
+  end
+
+  def calcular_valor_final(frete, cliente)
+    # TODO: ajuste a regra de negócio real aqui
+    frete.valor_base
+  end
 end
