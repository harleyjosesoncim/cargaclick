<%# app/views/fretes/new.html.erb %>
<% content_for :title, "Simular Frete" %>

<!-- ==================================================
     BREADCRUMB
================================================== -->
<nav class="text-sm text-gray-500 dark:text-gray-400 mb-4">
  <ol class="flex flex-wrap items-center gap-2">
    <li>
      <%= link_to "InÃ­cio", root_path, class: "hover:text-blue-600 transition" %>
    </li>
    <li>/</li>
    <li class="font-semibold text-gray-700 dark:text-gray-200">
      Simular Frete
    </li>
  </ol>
</nav>

<!-- ==================================================
     CABEÃ‡ALHO
================================================== -->
<div class="mb-6">
  <h1 class="text-3xl font-extrabold text-gray-900 dark:text-gray-100">
    ğŸš› Simule seu frete em segundos
  </h1>
  <p class="mt-2 text-gray-600 dark:text-gray-400 max-w-2xl">
    Compare valores, distÃ¢ncia e condiÃ§Ãµes.
    SimulaÃ§Ã£o gratuita. Login apenas para contratar.
  </p>
</div>

<!-- ==================================================
     NAVEGAÃ‡ÃƒO AUXILIAR
================================================== -->
<div class="flex flex-wrap gap-3 mb-8">
  <%= link_to fretes_path,
    class: "inline-flex items-center bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-4 py-2 rounded-lg transition" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
    Fretes
  <% end %>

  <%= link_to root_path,
    class: "inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg transition" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12h18" />
    </svg>
    InÃ­cio
  <% end %>
</div>

<!-- ==================================================
     CARD â€” SIMULAÃ‡ÃƒO (PREMIUM)
================================================== -->
<div class="bg-white dark:bg-gray-800 shadow-xl rounded-3xl p-8 mb-8">

  <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mb-6">
    ğŸ” Dados para simulaÃ§Ã£o
  </h2>

  <%= form_with url: simular_frete_post_path, method: :post, local: true do %>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <%= text_field_tag :origem, nil,
        placeholder: "Origem (CEP ou endereÃ§o)",
        class: "w-full rounded-xl border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 px-4 py-3 focus:ring-2 focus:ring-blue-500" %>

      <%= text_field_tag :destino, nil,
        placeholder: "Destino (CEP ou endereÃ§o)",
        class: "w-full rounded-xl border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 px-4 py-3 focus:ring-2 focus:ring-blue-500" %>

      <%= number_field_tag :peso, nil,
        placeholder: "Peso (kg)",
        class: "w-full rounded-xl border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 px-4 py-3 focus:ring-2 focus:ring-blue-500" %>

      <%= number_field_tag :volume, nil,
        placeholder: "Volume (mÂ³)",
        class: "w-full rounded-xl border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 px-4 py-3 focus:ring-2 focus:ring-blue-500" %>
    </div>

    <div class="mt-8">
      <%= submit_tag "Calcular Frete",
        class: "w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:opacity-90 text-white font-bold py-4 rounded-xl transition shadow-lg" %>
    </div>

  <% end %>
</div>

<!-- ==================================================
     CARD â€” CONTRATAÃ‡ÃƒO / COMISSÃƒO (PREPARADO)
================================================== -->
<div class="bg-gray-50 dark:bg-gray-900 border border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-6">

  <h2 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mb-2">
    ğŸ§¾ ContrataÃ§Ã£o e pagamento
  </h2>

  <p class="text-sm text-gray-600 dark:text-gray-400 max-w-2xl">
    ApÃ³s a simulaÃ§Ã£o, vocÃª verÃ¡ o valor final do frete,
    a taxa da plataforma e poderÃ¡ contratar com pagamento seguro.
  </p>

  <ul class="mt-3 text-sm text-gray-600 dark:text-gray-400 space-y-1">
    <li>â€¢ Valor do frete exibido com transparÃªncia</li>
    <li>â€¢ ComissÃ£o da plataforma destacada</li>
    <li>â€¢ Pagamento protegido (PIX / gateway)</li>
  </ul>

  <% unless cliente_signed_in? %>
    <div class="mt-5">
      <%= link_to "Entrar ou Criar Conta para Contratar",
        new_cliente_session_path,
        class: "inline-block bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-xl transition shadow" %>
    </div>
  <% end %>

</div>
