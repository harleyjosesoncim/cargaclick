<%= render 'shared/erros', object: @frete %>

<%= form_with model: @frete, local: true, class: "space-y-6" do |form| %>
  <div class="space-y-6">

    <div>
      <%= form.label :cep_origem, "Origem (CEP ou Endereço)", class: "block font-medium text-gray-700" %>
      <% err = @frete.errors[:cep_origem].first %>
      <%= form.text_field :cep_origem,
            placeholder: "Ex: 18000-000",
            inputmode: "numeric",
            pattern: "[0-9]{5}-?[0-9]{3}",
            maxlength: 9,
            autocomplete: "postal-code",
            class: "w-full border rounded px-3 py-2 #{'border-red-500' if err.present?}" %>
      <% if err.present? %><p class="mt-1 text-sm text-red-600"><%= err %></p><% end %>
    </div>

    <div>
      <%= form.label :cep_destino, "Destino (CEP ou Endereço)", class: "block font-medium text-gray-700" %>
      <% err = @frete.errors[:cep_destino].first %>
      <%= form.text_field :cep_destino,
            placeholder: "Ex: 11000-000",
            inputmode: "numeric",
            pattern: "[0-9]{5}-?[0-9]{3}",
            maxlength: 9,
            autocomplete: "postal-code",
            class: "w-full border rounded px-3 py-2 #{'border-red-500' if err.present?}" %>
      <% if err.present? %><p class="mt-1 text-sm text-red-600"><%= err %></p><% end %>
    </div>

    <div>
      <%= form.label :descricao, "Descrição da Carga", class: "block font-medium text-gray-700" %>
      <% err = @frete.errors[:descricao].first %>
      <%= form.text_area :descricao, rows: 3,
            placeholder: "Ex: Mudança residencial, produtos perecíveis...",
            class: "w-full border rounded px-3 py-2 #{'border-red-500' if err.present?}" %>
      <% if err.present? %><p class="mt-1 text-sm text-red-600"><%= err %></p><% end %>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
      <div>
        <%= form.label :peso, "Peso (kg)", class: "block font-medium text-gray-700" %>
        <% err = @frete.errors[:peso].first %>
        <%= form.number_field :peso, step: 0.1, min: 0, inputmode: "decimal",
              class: "w-full border rounded px-3 py-2 #{'border-red-500' if err.present?}" %>
        <% if err.present? %><p class="mt-1 text-sm text-red-600"><%= err %></p><% end %>
      </div>
      <div>
        <%= form.label :largura, "Largura (cm)", class: "block font-medium text-gray-700" %>
        <% err = @frete.errors[:largura].first %>
        <%= form.number_field :largura, step: 1, min: 0, inputmode: "numeric",
              class: "w-full border rounded px-3 py-2 #{'border-red-500' if err.present?}" %>
        <% if err.present? %><p class="mt-1 text-sm text-red-600"><%= err %></p><% end %>
      </div>
      <div>
        <%= form.label :altura, "Altura (cm)", class: "block font-medium text-gray-700" %>
        <% err = @frete.errors[:altura].first %>
        <%= form.number_field :altura, step: 1, min: 0, inputmode: "numeric",
              class: "w-full border rounded px-3 py-2 #{'border-red-500' if err.present?}" %>
        <% if err.present? %><p class="mt-1 text-sm text-red-600"><%= err %></p><% end %>
      </div>
      <div>
        <%= form.label :profundidade, "Profundidade (cm)", class: "block font-medium text-gray-700" %>
        <% err = @frete.errors[:profundidade].first %>
        <%= form.number_field :profundidade, step: 1, min: 0, inputmode: "numeric",
              class: "w-full border rounded px-3 py-2 #{'border-red-500' if err.present?}" %>
        <% if err.present? %><p class="mt-1 text-sm text-red-600"><%= err %></p><% end %>
      </div>
    </div>

    <div class="text-right">
      <%= form.submit "Simular Frete",
            class: "w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl shadow transition" %>
    </div>
  </div>
<% end %>
