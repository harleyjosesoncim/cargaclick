<%= form_with(model: transportador, local: true, class: "space-y-6") do |f| %>
  <% if transportador.errors.any? %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow">
      <h2 class="font-bold flex items-center gap-2">
        ⚠ <span><%= pluralize(transportador.errors.count, "erro") %> impediram o salvamento:</span>
      </h2>
      <ul class="mt-2 list-disc list-inside text-sm">
        <% transportador.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Nome -->
  <div>
    <%= f.label :nome, "Nome do Transportador", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.text_field :nome, required: true,
          placeholder: "Ex: Transportes Silva",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm 
                 focus:border-blue-500 focus:ring-blue-500 sm:text-sm
                 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <!-- CPF -->
  <div>
    <%= f.label :cpf, "CPF", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.text_field :cpf, required: true,
          placeholder: "123.456.789-01",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm 
                 focus:border-blue-500 focus:ring-blue-500 sm:text-sm
                 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <!-- Telefone -->
  <div>
    <%= f.label :telefone, "Telefone/WhatsApp", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.telephone_field :telefone, placeholder: "(11) 99999-9999",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm 
                 focus:border-blue-500 focus:ring-blue-500 sm:text-sm
                 dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <!-- Endereço + Cidade + CEP -->
  <div>
    <%= f.label :endereco, "Endereço", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.text_field :endereco, class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <div>
    <%= f.label :cidade, "Cidade", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.text_field :cidade, class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <div>
    <%= f.label :cep, "CEP", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.text_field :cep, placeholder: "18000-000",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <!-- Veículo -->
  <div>
    <%= f.label :tipo_veiculo, "Tipo de Veículo", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.text_field :tipo_veiculo, required: true,
          placeholder: "Caminhão, Van, Moto...",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <div>
    <%= f.label :carga_maxima, "Carga Máxima (kg)", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.number_field :carga_maxima, step: 0.01,
          placeholder: "Ex: 1200",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <!-- Valor por km -->
  <div>
    <%= f.label :valor_km, "Valor por Km (R$)", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.number_field :valor_km, step: 0.01, required: true,
          placeholder: "2.50",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <!-- Pagamento -->
  <div>
    <%= f.label :pix_key, "Chave Pix", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.text_field :pix_key, placeholder: "email@provedor.com ou chave aleatória",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <div>
    <%= f.label :mercado_pago_link, "Link Mercado Pago", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.url_field :mercado_pago_link, placeholder: "https://mpago.la/xxxx",
          class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
  </div>

  <!-- Fidelidade -->
  <div>
    <%= f.label :fidelidade_pontos, "Pontos de Fidelidade", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
    <%= f.number_field :fidelidade_pontos, step: 1, readonly: true,
          class: "mt-1 block w-full rounded-lg border-gray-300 bg-gray-100 text-gray-600 sm:text-sm" %>
  </div>

  <% if action_name == "new" %>
    <!-- Senha -->
    <div>
      <%= f.label :password, "Senha", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
      <%= f.password_field :password, required: true,
            class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
    </div>

    <div>
      <%= f.label :password_confirmation, "Confirme a Senha", class: "block text-sm font-medium text-gray-700 dark:text-gray-200" %>
      <%= f.password_field :password_confirmation, required: true,
            class: "mt-1 block w-full rounded-lg border-gray-300 shadow-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white" %>
    </div>
  <% end %>

  <!-- Submit -->
  <div>
    <%= f.submit (transportador.persisted? ? "Atualizar Transportador" : "Criar Transportador"),
          class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg shadow transition" %>
  </div>
<% end %>

