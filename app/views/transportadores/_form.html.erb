<%= form_with(model: transportador, local: true, class: "space-y-6") do |f| %>

  <% if transportador.errors.any? %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow">
      <h2 class="font-bold">
        <%= pluralize(transportador.errors.count, "erro") %> impediram o salvamento:
      </h2>
      <ul class="mt-2 list-disc list-inside text-sm">
        <% transportador.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Nome -->
  <div>
    <%= f.label :nome, "Nome do Transportador", class: "block text-sm font-medium" %>
    <%= f.text_field :nome, required: true, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <!-- CPF -->
  <div>
    <%= f.label :cpf, "CPF", class: "block text-sm font-medium" %>
    <%= f.text_field :cpf, required: true, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <!-- Telefone -->
  <div>
    <%= f.label :telefone, "Telefone / WhatsApp", class: "block text-sm font-medium" %>
    <%= f.telephone_field :telefone, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <!-- Endereço -->
  <div>
    <%= f.label :endereco, "Endereço", class: "block text-sm font-medium" %>
    <%= f.text_field :endereco, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <div>
    <%= f.label :cidade, "Cidade", class: "block text-sm font-medium" %>
    <%= f.text_field :cidade, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <div>
    <%= f.label :cep, "CEP", class: "block text-sm font-medium" %>
    <%= f.text_field :cep, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <!-- Veículo -->
  <div>
    <%= f.label :tipo_veiculo, "Tipo de Veículo", class: "block text-sm font-medium" %>
    <%= f.text_field :tipo_veiculo, required: true, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <div>
    <%= f.label :carga_maxima, "Carga Máxima (kg)", class: "block text-sm font-medium" %>
    <%= f.number_field :carga_maxima, step: 0.01, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <div>
    <%= f.label :valor_km, "Valor por Km (R$)", class: "block text-sm font-medium" %>
    <%= f.number_field :valor_km, step: 0.01, required: true, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <!-- Pagamento -->
  <div>
    <%= f.label :pix_key, "Chave Pix", class: "block text-sm font-medium" %>
    <%= f.text_field :pix_key, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <div>
    <%= f.label :mercado_pago_link, "Link Mercado Pago", class: "block text-sm font-medium" %>
    <%= f.url_field :mercado_pago_link, class: "mt-1 block w-full rounded-lg" %>
  </div>

  <!-- Fidelidade -->
  <div>
    <%= f.label :fidelidade_pontos, "Pontos de Fidelidade", class: "block text-sm font-medium" %>
    <%= f.number_field :fidelidade_pontos, readonly: true,
          class: "mt-1 block w-full rounded-lg bg-gray-100 text-gray-600" %>
  </div>

  <% if action_name == "new" %>
    <!-- Senha (Devise) -->
    <div>
      <%= f.label :password, "Senha", class: "block text-sm font-medium" %>
      <%= f.password_field :password, required: true, class: "mt-1 block w-full rounded-lg" %>
    </div>

    <div>
      <%= f.label :password_confirmation, "Confirmar Senha", class: "block text-sm font-medium" %>
      <%= f.password_field :password_confirmation, required: true, class: "mt-1 block w-full rounded-lg" %>
    </div>
  <% end %>

  <!-- Submit -->
  <div>
    <%= f.submit(
          transportador.persisted? ? "Atualizar Transportador" : "Criar Transportador",
          class: "w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg"
        ) %>
  </div>

<% end %>
