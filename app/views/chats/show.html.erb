<h2 class="text-xl font-bold mb-4">
  Chat do Frete <%= @chat.frete.id %> — 
  Cliente <%= @chat.cliente.nome %> x Transportador <%= @chat.transportador.nome %>
</h2>

<!-- Botão de navegação -->
<div class="mb-4">
  <%= link_to "← Voltar para meus chats", chats_path,
              class: "inline-block px-3 py-1 text-blue-600 hover:underline" %>
</div>

<!-- Histórico de mensagens -->
<div id="messages"
     class="space-y-3 border rounded-lg p-4 h-96 overflow-y-auto bg-white dark:bg-gray-900">
  <% if @messages.any? %>
    <%= render @messages %>
  <% else %>
    <p class="text-gray-500 italic">Nenhuma mensagem ainda. Inicie a conversa abaixo 👇</p>
  <% end %>
</div>

<!-- Formulário de envio (Turbo Frame) -->
<%= turbo_frame_tag "new_message" do %>
  <%= form_with(model: [@chat, @message],
                data: { turbo_frame: "new_message" },
                class: "flex gap-2 mt-4") do |f| %>
    <%= f.text_field :content,
          placeholder: "Digite sua mensagem...",
          class: "flex-1 rounded-lg border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white focus:ring-blue-500 focus:border-blue-500" %>
    <%= f.submit "Enviar",
          class: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition" %>
  <% end %>
<% end %>

