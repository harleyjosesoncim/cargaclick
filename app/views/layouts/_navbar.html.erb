<nav class="bg-gradient-to-r from-purple-950 via-purple-800 to-purple-700
            p-4 shadow-2xl fixed top-0 left-0 w-full z-50 backdrop-blur">

  <div class="max-w-7xl mx-auto flex items-center justify-between">

    <!-- =====================================================
         LOGO (NUNCA QUEBRA)
         ===================================================== -->
    <%= link_to nav_path(:root_path, fallback: "/"),
          class: "flex items-center gap-3 text-white text-2xl font-extrabold tracking-wide hover:opacity-90 transition" do %>
      <span class="text-3xl">ðŸšš</span>
      <span class="flex flex-col leading-tight">
        <span>CargaClick</span>
        <span class="text-xs font-normal text-purple-200">
          transporte inteligente
        </span>
      </span>
    <% end %>

    <!-- =====================================================
         MENU DESKTOP
         ===================================================== -->
    <div class="hidden md:flex items-center gap-6 text-white font-medium">

      <%= link_to "ðŸ§® Simular frete",
            nav_path(:new_frete_path, fallback: "/"),
            class: "px-3 py-2 rounded-lg hover:bg-white/10 hover:text-yellow-300 transition" %>

      <%= link_to "ðŸš› Para transportadores",
            nav_path(:transportadores_path, fallback: "/transportadores"),
            class: "px-3 py-2 rounded-lg hover:bg-white/10 hover:text-yellow-300 transition" %>

      <%= link_to "ðŸ“ž Contato",
            nav_path(:contato_path, fallback: "/"),
            class: "px-3 py-2 rounded-lg hover:bg-white/10 hover:text-yellow-300 transition" %>

      <!-- =====================================================
           USUÃRIO NÃƒO LOGADO
           ===================================================== -->
      <% unless cliente_signed_in? || transportador_signed_in? %>

        <%= link_to "Sou transportador",
              nav_path(:transportadores_path, fallback: "/transportadores"),
              class: "border border-yellow-300 text-yellow-300 px-4 py-2 rounded-full font-bold
                      hover:bg-yellow-300 hover:text-purple-900 transition" %>

        <%= link_to "Simular frete",
              nav_path(:new_frete_path, fallback: "/"),
              class: "bg-white text-purple-800 px-5 py-2 rounded-full font-bold
                      hover:bg-purple-100 transition" %>

      <% end %>

      <!-- =====================================================
           CLIENTE LOGADO
           ===================================================== -->
      <% if cliente_signed_in? %>
        <%= link_to "Meu painel",
              nav_path(:clientes_root_path, fallback: "/"),
              class: "bg-blue-600 px-5 py-2 rounded-full font-bold
                      hover:bg-blue-500 transition" %>
      <% end %>

      <!-- =====================================================
           TRANSPORTADOR LOGADO
           ===================================================== -->
      <% if transportador_signed_in? %>
        <%= link_to "Painel transportador",
              nav_path(:transportadores_root_path, fallback: "/"),
              class: "bg-green-600 px-5 py-2 rounded-full font-bold
                      hover:bg-green-500 transition" %>
      <% end %>

    </div>

    <!-- =====================================================
         MENU MOBILE (SEM JS, SEM RISCO)
         ===================================================== -->
    <details class="md:hidden text-white relative">
      <summary class="text-3xl cursor-pointer select-none">â˜°</summary>

      <div class="absolute right-0 mt-4 w-64 flex flex-col gap-3
                  bg-purple-900/95 rounded-xl p-4 shadow-xl">

        <%= link_to "ðŸ§® Simular frete",
              nav_path(:new_frete_path, fallback: "/"),
              class: "px-3 py-2 rounded hover:bg-white/10" %>

        <%= link_to "ðŸš› Para transportadores",
              nav_path(:transportadores_path, fallback: "/transportadores"),
              class: "px-3 py-2 rounded hover:bg-white/10" %>

        <%= link_to "ðŸ“ž Contato",
              nav_path(:contato_path, fallback: "/"),
              class: "px-3 py-2 rounded hover:bg-white/10" %>

        <% unless cliente_signed_in? || transportador_signed_in? %>
          <%= link_to "Sou transportador",
                nav_path(:transportadores_path, fallback: "/transportadores"),
                class: "px-3 py-2 rounded bg-yellow-300 text-purple-900 font-bold text-center" %>
        <% end %>

      </div>
    </details>

  </div>
</nav>
