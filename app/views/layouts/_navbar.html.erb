<nav class="bg-purple-800 p-4 shadow-lg fixed top-0 left-0 w-full z-50">
  <div class="container mx-auto flex items-center justify-between">

    <!-- LOGO -->
    <a href="/" class="text-white text-2xl font-bold hover:text-purple-200 transition">
      ğŸšš CargaClick
    </a>

    <!-- LINKS DESKTOP -->
    <div class="hidden md:flex items-center space-x-6 font-medium text-white">

      <a href="/fretes/new" class="hover:text-yellow-300 transition">
        ğŸš€ Simular Frete
      </a>

      <a href="/fidelidade" class="hover:text-yellow-300 transition">
        â­ Fidelidade
      </a>

      <a href="/relatorios" class="hover:text-yellow-300 transition">
        ğŸ“Š RelatÃ³rios
      </a>

      <a href="/about" class="hover:text-yellow-300 transition">
        â„¹ï¸ Sobre
      </a>

      <a href="/contato" class="hover:text-yellow-300 transition">
        ğŸ“ Contato
      </a>

      <!-- CLIENTE -->
      <% if defined?(cliente_signed_in?) && cliente_signed_in? && defined?(current_cliente) && current_cliente.present? %>
        <a href="/clientes/<%= current_cliente.id %>"
           class="bg-white text-purple-800 font-bold py-2 px-4 rounded-full hover:bg-gray-200 transition">
          ğŸ‘¤ Ãrea do Cliente
        </a>
      <% else %>
        <a href="/clientes/sign_in"
           class="bg-white text-purple-800 font-bold py-2 px-4 rounded-full hover:bg-gray-200 transition">
          ğŸ” Login Cliente
        </a>
      <% end %>

      <!-- TRANSPORTADOR -->
      <% if defined?(transportador_signed_in?) && transportador_signed_in? && defined?(current_transportador) && current_transportador.present? %>
        <a href="/transportadores/<%= current_transportador.id %>"
           class="bg-purple-600 text-white font-bold py-2 px-4 rounded-full hover:bg-purple-500 transition">
          ğŸš› Ãrea do Transportador
        </a>
      <% else %>
        <a href="/transportadores/sign_in"
           class="bg-purple-600 text-white font-bold py-2 px-4 rounded-full hover:bg-purple-500 transition">
          ğŸ”‘ Login Transportador
        </a>
      <% end %>
    </div>

    <!-- BOTÃƒO HAMBÃšRGUER -->
    <button id="navbar-toggle"
            class="md:hidden text-white focus:outline-none"
            aria-label="Abrir menu">
      <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- MENU MOBILE -->
  <div id="navbar-menu"
       class="hidden md:hidden mt-4 space-y-3 bg-purple-700 rounded-lg p-4 shadow-lg text-white">

    <a href="/fretes/new" class="block hover:text-yellow-300">
      ğŸš€ Simular Frete
    </a>

    <a href="/fidelidade" class="block hover:text-yellow-300">
      â­ Fidelidade
    </a>

    <a href="/relatorios" class="block hover:text-yellow-300">
      ğŸ“Š RelatÃ³rios
    </a>

    <a href="/about" class="block hover:text-yellow-300">
      â„¹ï¸ Sobre
    </a>

    <a href="/contato" class="block hover:text-yellow-300">
      ğŸ“ Contato
    </a>

    <hr class="border-purple-500">

    <% if defined?(cliente_signed_in?) && cliente_signed_in? && defined?(current_cliente) && current_cliente.present? %>
      <a href="/clientes/<%= current_cliente.id %>"
         class="block bg-white text-purple-800 font-bold py-2 px-4 rounded-lg">
        ğŸ‘¤ Ãrea do Cliente
      </a>
    <% else %>
      <a href="/clientes/sign_in"
         class="block bg-white text-purple-800 font-bold py-2 px-4 rounded-lg">
        ğŸ” Login Cliente
      </a>
    <% end %>

    <% if defined?(transportador_signed_in?) && transportador_signed_in? && defined?(current_transportador) && current_transportador.present? %>
      <a href="/transportadores/<%= current_transportador.id %>"
         class="block bg-purple-600 text-white font-bold py-2 px-4 rounded-lg">
        ğŸš› Ãrea do Transportador
      </a>
    <% else %>
      <a href="/transportadores/sign_in"
         class="block bg-purple-600 text-white font-bold py-2 px-4 rounded-lg">
        ğŸ”‘ Login Transportador
      </a>
    <% end %>
  </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const btn  = document.getElementById("navbar-toggle");
    const menu = document.getElementById("navbar-menu");

    if (!btn || !menu) return;

    btn.addEventListener("click", function () {
      menu.classList.toggle("hidden");
    });

    menu.querySelectorAll("a").forEach(function (link) {
      link.addEventListener("click", function () {
        menu.classList.add("hidden");
      });
    });
  });
</script>
